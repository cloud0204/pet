(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shop"],{"0fa5":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"shop"}},[r("section",[r("div",{staticClass:"btn"},[r("input",{attrs:{type:"radio",name:"state",id:"buy",checked:""}}),r("label",{attrs:{for:"buy"},on:{click:function(e){t.state="buy"}}},[t._v("購買商品")])]),r("div",{staticClass:"btn"},[r("input",{attrs:{type:"radio",name:"state",id:"bought"}}),r("label",{attrs:{for:"bought"},on:{click:function(e){t.state="bought"}}},[t._v("已購買")])])]),"buy"===t.state?r("pricecomponent"):r("div",{staticClass:"shoplist"},[0==t.content.length?r("section",[r("h2",[t._v("購物車沒有東西")])]):r("section",[r("ul",[r("li",[r("span",[t._v("商品名")]),r("span",[t._v("價格")]),r("span",[t._v("數量")]),r("span",[t._v("合計")])]),t._l(t.content,(function(e,i){return r("li",{key:e.name},[r("span",[r("div",{staticClass:"btn",on:{click:function(e){return t.removeHandler(i)}}},[t._v("刪除")]),r("img",{attrs:{src:n("fe12")("./"+e.src)}}),r("div",{staticClass:"text"},[t._v(" "+t._s(e.name)+" ")])]),r("span",[t._v(t._s(e.price))]),r("span",{attrs:{"data-descr":"點擊修改數量"}},[r("inputcomponent",{attrs:{number:e.number,index:i}})],1),r("span",[t._v(t._s(e.price*e.number))])])}))],2),r("div",{staticClass:"check"},[r("h3",[t._v("總價:"+t._s(t.totalprice))]),r("span",{staticClass:"btn",on:{click:function(e){return t.submitHandler()}}},[t._v("確認購買")])])])])],1)},i=[],s=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text"},[!1===t.edit?n("section",{on:{click:t.showinput}},[n("span",[t._v(t._s(t.number))])]):n("section",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.editNumber,expression:"editNumber",modifiers:{trim:!0}},{name:"focus",rawName:"v-focus"}],attrs:{type:"number"},domProps:{value:t.editNumber},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.closeinput(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeinput(e)}],blur:[t.closeinput,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.editNumber=e.target.value.trim())}}})])])}),o=[],a=(n("a9e3"),{data:function(){return{edit:!1}},props:{number:{type:Number,required:!0},index:{type:Number,required:!0}},computed:{editNumber:{get:function(){return this.number},set:function(t){if(t<1)return this.removeHandler();this.$store.commit("update_shop",{index:this.index,data:{number:+t}})}}},methods:{showinput:function(){this.edit=!0},closeinput:function(){this.edit=!1},removeHandler:function(){confirm('是否確認刪除"'.concat(this.$store.state.content[this.index].name,'"?'))&&this.$store.commit("remove_shop",this.index)}}}),c=a,u=n("2877"),p=Object(u["a"])(c,s,o,!1,null,null,null),l=p.exports,f=n("c4e4"),d={name:"shop",data:function(){return{content:this.$store.state.content,state:"buy"}},components:{inputcomponent:l,pricecomponent:f["a"]},computed:{totalprice:function(){for(var t=this.$store.state.content,e=0,n=0;n<t.length;n++){var r=t[n],i=r.price,s=r.number;e+=i*s}return e}},methods:{removeHandler:function(t){confirm('是否確認刪除"'.concat(this.$store.state.content[t].name,'"?'))&&this.$store.commit("remove_shop",t)},submitHandler:function(){var t=JSON.stringify({content:this.$store.state.content});console.log("購買資料:".concat(t))}}},m=d,b=(n("c5ab"),Object(u["a"])(m,r,i,!1,null,"720ad9a8",null));e["default"]=b.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),i=n("5899"),s="["+i+"]",o=RegExp("^"+s+s+"*"),a=RegExp(s+s+"*$"),c=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,n){var r=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var s,o;return i&&"function"==typeof(s=e.constructor)&&s!==n&&r(o=s.prototype)&&o!==n.prototype&&i(t,o),t}},a428:function(t,e,n){},a9e3:function(t,e,n){"use strict";var r=n("83ab"),i=n("da84"),s=n("94ca"),o=n("6eeb"),a=n("5135"),c=n("c6b6"),u=n("7156"),p=n("c04e"),l=n("d039"),f=n("7c73"),d=n("241c").f,m=n("06cf").f,b=n("9bf2").f,v=n("58a8").trim,h="Number",_=i[h],N=_.prototype,y=c(f(N))==h,g=function(t){var e,n,r,i,s,o,a,c,u=p(t,!1);if("string"==typeof u&&u.length>2)if(u=v(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(s=u.slice(2),o=s.length,a=0;a<o;a++)if(c=s.charCodeAt(a),c<48||c>i)return NaN;return parseInt(s,r)}return+u};if(s(h,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var k,x=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof x&&(y?l((function(){N.valueOf.call(n)})):c(n)!=h)?u(new _(g(e)),n,x):g(e)},E=r?d(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;E.length>I;I++)a(_,k=E[I])&&!a(x,k)&&b(x,k,m(_,k));x.prototype=N,N.constructor=x,o(i,h,x)}},c5ab:function(t,e,n){"use strict";n("a428")}}]);
//# sourceMappingURL=shop.b892546c.js.map